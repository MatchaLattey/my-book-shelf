<!DOCTYPE html>
<html>
<head>
  <style>
    :root {
      --frame-color: #b68d6d; 
      --shelf-bg: #fffaf2;   
      --book-read: #d8b08c;
      --book-reading: #a67c52;
      --book-tbr: #eed9c1;
    }

    body { background-color: transparent; display: flex; justify-content: center; padding: 10px; font-family: sans-serif; }
    .bookcase {
      width: 100%; max-width: 450px; background: var(--frame-color);
      display: grid; grid-template-rows: repeat(4, 1fr); gap: 15px;
      padding: 20px; border: 10px solid #a37a5a; border-radius: 4px;
    }
    .shelf {
      height: 130px; background-color: var(--shelf-bg); border-bottom: 10px solid #a37a5a;
      display: flex; align-items: flex-end; padding: 0 15px; gap: 6px; position: relative;
    }
    .deco { position: absolute; bottom: 5px; z-index: 5; pointer-events: none; }
    .book {
      width: 32px; writing-mode: vertical-rl; text-align: center; font-size: 11px; font-weight: bold;
      color: #5d4037; border: 1px solid rgba(0,0,0,0.1); border-radius: 3px 3px 0 0;
      transition: transform 0.2s; cursor: pointer; display: flex; justify-content: center; align-items: center;
    }
    .book:hover { transform: translateY(-10px); z-index: 10; }
    .status-Read { background: var(--book-read); height: 85px; }
    .status-Reading { background: var(--book-reading); height: 110px; color: #fff; }
    .status-TBR { background: var(--book-tbr); height: 75px; }
  </style>
</head>
<body>

<div class="bookcase">
  <div class="shelf" id="shelf-1"></div>
  <div class="shelf" id="shelf-2"></div>
  <div class="shelf" id="shelf-3"></div>
  <div class="shelf" id="shelf-4"></div>
</div>

<script>
  // ==========================================
  // ⚙️ MANAGE YOUR SETTINGS HERE
  // ==========================================
  const CONFIG = {
    workerUrl: 'https://your-worker-name.workers.dev',
    
    decorations: [
      {
        name: 'Clock',
        url: 'https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3B4eW13bmZ5ZnR4eW13bmZ5ZnR4eW13bmZ5ZnR4eW13bmZ5JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1z/3o7TKVUn7iM8FMEU24/giphy.gif',
        shelf: 2,         // Which shelf (1-4)
        position: 'right', // 'left', 'center', or 'right'
        width: '50px'     // Size
      },
      {
        name: 'Plant',
        url: 'https://i.pinimg.com/originals/1f/4e/ba/1f4eba6f27790b213ba570f8ba63273c.gif',
        shelf: 3, 
        position: 'center',
        width: '65px'
      }
      // You can add more decorations here easily!
    ]
  };

  // ==========================================
  // CORE LOGIC (Don't touch unless you're brave)
  // ==========================================
  
  function placeDecorations() {
    CONFIG.decorations.forEach(d => {
      const shelf = document.getElementById(`shelf-${d.shelf}`);
      if (shelf) {
        const img = document.createElement('img');
        img.src = d.url;
        img.className = 'deco';
        img.style.width = d.width;
        
        if (d.position === 'center') {
          img.style.left = '50%';
          img.style.transform = 'translateX(-50%)';
        } else if (d.position === 'left') {
          img.style.left = '10px';
        } else {
          img.style.right = '10px';
        }
        shelf.appendChild(img);
      }
    });
  }

  async function fetchBooks() {
    try {
      const response = await fetch(CONFIG.workerUrl);
      const books = await response.json();
      placeDecorations(); // Place items after books or before
      
      books.forEach(book => {
        const shelf = document.getElementById(`shelf-${book.shelf}`);
        if (shelf) {
          const el = document.createElement('div');
          el.className = `book status-${book.status}`;
          el.title = book.title;
          el.innerText = book.title.length > 12 ? book.title.substring(0, 10) + '..' : book.title;
          shelf.appendChild(el);
        }
      });
    } catch (e) { console.error("Error:", e); }
  }

  fetchBooks();
</script>

</body>
</html>
